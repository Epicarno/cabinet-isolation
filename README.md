# –ò–∑–æ–ª—è—Ü–∏—è —à–∫–∞—Ñ–æ–≤

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø–æ —à–∫–∞—Ñ–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏.

## –ü—Ä–æ–±–ª–µ–º–∞

–í –ø—Ä–æ–µ–∫—Ç–µ SCADA WinCC OA —Å–∫—Ä–∏–ø—Ç `PNR_Ventcontent.ctl` (~7000 —Å—Ç—Ä–æ–∫, 59 –∫–ª–∞—Å—Å–æ–≤) –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç **–≤—Å–µ** —à–∫–∞—Ñ—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ö–∞–∂–¥—ã–π XML-–æ–±—ä–µ–∫—Ç –º–Ω–µ–º–æ—Å—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —ç—Ç–æ—Ç –µ–¥–∏–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç if-–±–ª–æ–∫–∏ –≤–∏–¥–∞:

```
if (settings["struct"] == "TAIRA_INT_DI") { ... }
if (settings["struct"] == "KORF_AI") { ... }
// ... –µ—â—ë –¥–µ—Å—è—Ç–∫–∏ –∫–ª–∞—Å—Å–æ–≤, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω—ã 5-10
```

–≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫:
- **–õ–∏—à–Ω–µ–π –Ω–∞–≥—Ä—É–∑–∫–µ** ‚Äî –∫–∞–∂–¥—ã–π —à–∫–∞—Ñ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ 59 –∫–ª–∞—Å—Å–æ–≤
- **–°–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –≤—Å–µ —à–∫–∞—Ñ—ã
- **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** —à–∫–∞—Ñ–æ–≤

## –†–µ—à–µ–Ω–∏–µ

–ü–∞–π–ø–ª–∞–π–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–ò–∑–æ–ª–∏—Ä—É–µ—Ç XML-–æ–±—ä–µ–∫—Ç—ã** ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω—ã –∏–∑ –æ–±—â–µ–π –ø–∞–ø–∫–∏ `objects/PV/` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ `objects/objects_<–®–ö–ê–§>/PV/` –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ —Å—Å—ã–ª–∫–∏
2. **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ .ctl** ‚Äî –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç CSV-–æ–ø–∏—Å–∞–Ω–∏—è –º–Ω–µ–º–æ—Å—Ö–µ–º –∫–∞–∂–¥–æ–≥–æ —à–∫–∞—Ñ–∞, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫–∏–µ struct-–∫–ª–∞—Å—Å—ã —Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `Ventcontent_<–®–ö–ê–§>.ctl` —Ç–æ–ª—å–∫–æ —Å –Ω—É–∂–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏, global-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏ mapping-–∑–∞–ø–∏—Å—è–º–∏
3. **–ß–∏—Å—Ç–∏—Ç XML –æ—Ç –ª–∏—à–Ω–µ–≥–æ –∫–æ–¥–∞** ‚Äî —É–¥–∞–ª—è–µ—Ç if-–±–ª–æ–∫–∏ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Å–∫—Ä–∏–ø—Ç–µ –¥–∞–Ω–Ω–æ–≥–æ —à–∫–∞—Ñ–∞
4. **–ó–∞—â–∏—â–∞–µ—Ç –∫–ª–∞—Å—Å—ã –∏–∑ –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤** ‚Äî –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç `#uses` –¥–∏—Ä–µ–∫—Ç–∏–≤—ã, –Ω–∞—Ö–æ–¥–∏—Ç –∫–ª–∞—Å—Å—ã –∏–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä `P5_V5_SkifContent.ctl`) –∏ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∏—Ö —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ JSON-—Ñ–∞–π–ª –æ–±–º–µ–Ω–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Modules/
‚îú‚îÄ‚îÄ scripts/                        ‚Üê Python-—Å–∫—Ä–∏–ø—Ç—ã (—ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ cabinets.txt                ‚Üê —Å–ø–∏—Å–æ–∫ —à–∫–∞—Ñ–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Ñ–∏–ª—å—Ç—Ä)
‚îÇ   ‚îú‚îÄ‚îÄ parse_utils.py              ‚Üê –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –ø—É—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ report_utils.py             ‚Üê –∑–∞–ø–∏—Å—å –æ—Ç—á—ë—Ç–æ–≤ (--append —Ä–µ–∂–∏–º)
‚îÇ   ‚îú‚îÄ‚îÄ run_pipeline.py              ‚Üê —Ä–∞–Ω–Ω–µ—Ä –ø–∞–π–ø–ª–∞–π–Ω–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π)
‚îÇ   ‚îú‚îÄ‚îÄ run_pipeline.bat            ‚Üê –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–∑ CMD
‚îÇ   ‚îú‚îÄ‚îÄ collect_output.py           ‚Üê —Å–±–æ—Ä–∫–∞ –¥–µ–ø–ª–æ–π-–ø–∞–ø–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ *.py                        ‚Üê —Å–∫—Ä–∏–ø—Ç—ã –ø–∞–π–ø–ª–∞–π–Ω–∞ (—Å–º. –Ω–∏–∂–µ)
‚îÇ   ‚îî‚îÄ‚îÄ dp_scripts/                 ‚Üê —Ä–∞–±–æ—Ç–∞ —Å DPL-—Ñ–∞–π–ª–∞–º–∏ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, –æ—á–∏—Å—Ç–∫–∞)
‚îÇ       ‚îú‚îÄ‚îÄ validate_structs.py     ‚Üê CSV struct ‚Üî DPL DpType
‚îÇ       ‚îú‚îÄ‚îÄ validate_dpl_points.py  ‚Üê DPL ‚Üî –º–Ω–µ–º–æ ‚Üî CNS
‚îÇ       ‚îî‚îÄ‚îÄ clean_dpl.py            ‚Üê —É–¥–∞–ª–µ–Ω–∏–µ DP –∏–∑ DPL
‚îÇ
‚îú‚îÄ‚îÄ DPLs/                           ‚Üê DPL-—Ñ–∞–π–ª—ã (Datapoint List)
‚îÇ   ‚îú‚îÄ‚îÄ SHD_03_1/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ other.dpl            ‚Üê –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–æ—á–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ di_and_oip.dpl      ‚Üê —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ (DI/OIP)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cns.dpl             ‚Üê CNS-–¥–µ—Ä–µ–≤–æ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ backup/             ‚Üê –±—ç–∫–∞–ø—ã (clean_dpl.py)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ ventcontent/                    ‚Üê –ø—Ä–æ–µ–∫—Ç WinCC OA
‚îÇ   ‚îú‚îÄ‚îÄ panels/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vision/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LCSMnemo/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SHD_03_1/       ‚Üê –ø–∞–ø–∫–∞ —à–∫–∞—Ñ–∞
‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ *.xml       ‚Üê –º–Ω–µ–º–æ—Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ *.csv       ‚Üê –æ–ø–∏—Å–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ (–∫–æ–ª–æ–Ω–∫–∏: refName, dpName, System, ObjctType, struct, CommonDP)
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ SHD_05_1/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ...             ‚Üê ~24 —à–∫–∞—Ñ–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ objects/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ PV/                 ‚Üê —à–∞–±–ª–æ–Ω—ã –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ objects_SHD_03_1/   ‚Üê –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ scripts/
‚îÇ       ‚îî‚îÄ‚îÄ libs/
‚îÇ           ‚îî‚îÄ‚îÄ objLogic/
‚îÇ               ‚îú‚îÄ‚îÄ PNR_Ventcontent.ctl        ‚Üê –æ—Ä–∏–≥–∏–Ω–∞–ª (59 –∫–ª–∞—Å—Å–æ–≤)
‚îÇ               ‚îú‚îÄ‚îÄ Ventcontent_SHD_03_1.ctl   ‚Üê –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è split_ctl.py
‚îÇ               ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ old_mnemo/                      ‚Üê –±—ç–∫–∞–ø—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –º–Ω–µ–º–æ—Å—Ö–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ SHD_03_1/                   ‚Üê –∫–æ–ø–∏–∏ XML –¥–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ output/                         ‚Üê –¥–µ–ø–ª–æ–π-–ø–∞–ø–∫–∏ (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —à–∞–≥ 10)
‚îÇ   ‚îú‚îÄ‚îÄ SHD_03_1/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ventcontent/            ‚Üê –≥–æ—Ç–æ–≤–æ –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —Ü–µ–ª–µ–≤—É—é –º–∞—à–∏–Ω—É
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ panels/objects/objects_SHD_03_1/...
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ panels/vision/LCSMnemo/SHD_03_1/...
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ scripts/libs/objLogic/Ventcontent_SHD_03_1.ctl
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ reports/                        ‚Üê –æ—Ç—á—ë—Ç—ã (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ split_ctl_report.txt
‚îÇ   ‚îú‚îÄ‚îÄ other_scripts.json          ‚Üê JSON –æ–±–º–µ–Ω –º–µ–∂–¥—É —Å–∫—Ä–∏–ø—Ç–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ datapoints/                 ‚Üê –æ—Ç—á—ë—Ç—ã –ø–æ —Ç–æ—á–∫–∞–º –¥–∞–Ω–Ω—ã—Ö
‚îÇ       ‚îú‚îÄ‚îÄ _all.txt                ‚Üê –≤—Å–µ —Ç–æ—á–∫–∏ –≤—Å–µ—Ö —à–∫–∞—Ñ–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ SHD_03_1.txt            ‚Üê —Ç–æ—á–∫–∏ –æ–¥–Ω–æ–≥–æ —à–∫–∞—Ñ–∞
‚îÇ       ‚îú‚îÄ‚îÄ _classes.txt            ‚Üê DP | DPT-–∫–ª–∞—Å—Å | –æ–ø–∏—Å–∞–Ω–∏–µ
‚îÇ       ‚îú‚îÄ‚îÄ _classes_unique.txt     ‚Üê —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ DPT-–∫–ª–∞—Å—Å—ã + —Å—á—ë—Ç—á–∏–∫
‚îÇ       ‚îî‚îÄ‚îÄ _unmatched.txt          ‚Üê —Ç–æ—á–∫–∏ –±–µ–∑ –∫–ª–∞—Å—Å–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚îÇ
‚îî‚îÄ‚îÄ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ KKS - –û–ü –°–ü–±.xlsx   ‚Üê –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è KKS (–≤—Ö–æ–¥ –¥–ª—è rename_kks.py)
```

## –ü–∞–π–ø–ª–∞–π–Ω (11 —à–∞–≥–æ–≤)

### –í—ã–±–æ—Ä —à–∫–∞—Ñ–æ–≤

–§–∞–π–ª `cabinets.txt` —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–º, –∫–∞–∫–∏–µ —à–∫–∞—Ñ—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è. –ü–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É, `#` ‚Äî –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:

```
# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–µ —à–∫–∞—Ñ—ã:
SHD_03_1
SHD_05_1
# SHD_10_1     ‚Üê –ø—Ä–æ–ø—É—â–µ–Ω
```

–ï—Å–ª–∏ —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π, –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–ª–∏ —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è **–≤—Å–µ** —à–∫–∞—Ñ—ã.

–®–∫–∞—Ñ—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ ‚Äî –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ—Ç.

### –ó–∞–ø—É—Å–∫

–û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–Ω–Ω–µ—Ä ‚Äî `run_pipeline.py` (Python). –§–∞–π–ª `run_pipeline.bat` ‚Äî —Ç–æ–Ω–∫–∞—è –æ–±—ë—Ä—Ç–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç `python run_pipeline.py %*`.

```bash
# –ß–µ—Ä–µ–∑ bat-–æ–±—ë—Ä—Ç–∫—É (–¥–ª—è CMD):
run_pipeline.bat                    # –ø–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫
run_pipeline.bat --append           # –¥–æ–ø–∏—Å—ã–≤–∞—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç—á—ë—Ç—ã
run_pipeline.bat --from 5           # –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —à–∞–≥–∞ 5
run_pipeline.bat --only 10          # –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —à–∞–≥ 10

# –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Python (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
python run_pipeline.py              # –ø–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫
python run_pipeline.py --from 5     # –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —à–∞–≥–∞ 5
python run_pipeline.py --only 8     # —Ç–æ–ª—å–∫–æ —à–∞–≥ 8
```

> **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–∞–π–ø–ª–∞–π–Ω–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç `sys.stdout.reconfigure(encoding='utf-8')` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ. –†–∞–Ω–Ω–µ—Ä –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞—ë—Ç `PYTHONIOENCODING=utf-8` –≤ subprocess. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–≤–æ–¥ –Ω–∞ Windows-–∫–æ–Ω—Å–æ–ª—è—Ö (cp866/cp1251) –±–µ–∑ `UnicodeEncodeError`.

### –®–∞–≥–∏

| # | –°–∫—Ä–∏–ø—Ç | –§–∞–∑–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|--------|------|----------|
| 1 | `process_mnemo.py` | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ | –î–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∫–∞—Ñ–∞ –∫–æ–ø–∏—Ä—É–µ—Ç `objects/PV/` ‚Üí `objects/objects_<–®–ö–ê–§>/PV/` —á–µ—Ä–µ–∑ `shutil.copytree`. –ë—ç–∫–∞–ø–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—ã –º–Ω–µ–º–æ—Å—Ö–µ–º –≤ `old_mnemo/<–®–ö–ê–§>/`. –í XML –º–Ω–µ–º–æ—Å—Ö–µ–º –∑–∞–º–µ–Ω—è–µ—Ç `objects/PV/...` ‚Üí `objects/objects_<–®–ö–ê–§>/PV/...`. –¢–∞–∫–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `pathFS`-—Å—Å—ã–ª–∫–∏ –±–µ–∑ `.xml` (—Ñ–æ—Ä–º–∞—Ç `/objects/PV/FPs/...` ‚Üí `/objects/objects_<–®–ö–ê–§>/PV/FPs/...`) |
| 2 | `fix_cross_refs.py` | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ | –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–æ–≤: `objects/PV/...` ‚Üí `objects/objects_<–®–ö–ê–§>/PV/...`. –ö–æ–ø–∏—Ä—É–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –æ–±—ä–µ–∫—Ç—ã –∏–∑ –æ–±—â–µ–π –ø–∞–ø–∫–∏ |
| 3 | `cleanup_orphans.py` | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ | –£–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª—ã –≤ `objects_<–®–ö–ê–§>/`, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫—Ç–æ –Ω–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è (–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã `copytree` ‚Äî –æ–±—ä–µ–∫—Ç—ã –æ—Ç –¥—Ä—É–≥–∏—Ö —à–∫–∞—Ñ–æ–≤). –ü–µ—Ä–µ–¥ –ø–æ–∏—Å–∫–æ–º —Å—Å—ã–ª–æ–∫ –≤—ã—á–∏—â–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (`//`, `/* */`) —á–µ—Ä–µ–∑ `strip_comments` ‚Äî –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è. –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç `pathFS`-—Å—Å—ã–ª–∫–∏ –±–µ–∑ `.xml`. –ê—Ä–≥—É–º–µ–Ω—Ç `2` = —É–¥–∞–ª—è—Ç—å, –∏–Ω–∞—á–µ —Ç–æ–ª—å–∫–æ –æ—Ç—á—ë—Ç |
| 4 | `clean_commented_refs.py` | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ | –ù–∞—Ö–æ–¥–∏—Ç —Ñ–∞–π–ª—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ** –∏–∑ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ (`//`, `/* */`). –£–¥–∞–ª—è–µ—Ç —Ç–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏ –≤—ã—á–∏—â–∞–µ—Ç –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏-—Å—Å—ã–ª–∫–∏. `--apply` = —É–¥–∞–ª—è—Ç—å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é dry-run |
| 5 | `validate_refs.py` | –ü—Ä–æ–≤–µ—Ä–∫–∞ | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –≤—Å–µ —Å—Å—ã–ª–∫–∏ `objects/...xml` –≤ XML —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã. –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (`//`, `/* */`) —á–µ—Ä–µ–∑ `strip_comments`. –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç `pathFS`-—Å—Å—ã–ª–∫–∏ –±–µ–∑ `.xml` |
| 6 | `split_ctl.py` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è | –ü–∞—Ä—Å–∏—Ç `PNR_Ventcontent.ctl` –Ω–∞ —Å–µ–∫—Ü–∏–∏ (uses, –∫–ª–∞—Å—Å—ã, setValueLib, global, mapping). –î–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∫–∞—Ñ–∞ —á–∏—Ç–∞–µ—Ç CSV ‚Üí –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç struct ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω—ã–µ –∫–ª–∞—Å—Å—ã (+ —Ä–æ–¥–∏—Ç–µ–ª–∏ + —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥) ‚Üí —Å–æ–±–∏—Ä–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `Ventcontent_<–®–ö–ê–§>.ctl` |
| 7 | `replace_scripts.py` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è | –í XML –æ–±—ä–µ–∫—Ç–∞—Ö –∑–∞–º–µ–Ω—è–µ—Ç `#uses "objLogic/PNR_Ventcontent"` –∏ `Denostration_Ventcontent` –Ω–∞ `Ventcontent_<–®–ö–ê–§>.ctl`. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç, —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏ `#uses` |
| 8 | `scan_problems.py` | üìä –ê–Ω–∞–ª–∏–∑ | –ò—â–µ—Ç –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å `&quot;` (–ª–æ–º–∞—é—Ç –ø–∞—Ä—Å–∏–Ω–≥), `else if` + struct, `switch` + struct |
| 9 | `check_other_scripts.py` | üìä –ê–Ω–∞–ª–∏–∑ | –î–ª—è –∫–∞–∂–¥–æ–≥–æ XML –Ω–∞—Ö–æ–¥–∏—Ç `#uses` ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–ª–∞—Å—Å—ã –∏–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤. –ï—Å–ª–∏ struct-–∫–ª–∞—Å—Å –Ω–µ –∏–∑ Ventcontent, –Ω–æ –µ—Å—Ç—å –≤ –¥—Ä—É–≥–æ–º —Å–∫—Ä–∏–ø—Ç–µ ‚Äî –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç `reports/other_scripts.json` |
| 10 | `cleanup_classes.py` | üîß –û—á–∏—Å—Ç–∫–∞ | –ó–∞–≥—Ä—É–∂–∞–µ—Ç `other_scripts.json`, –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∏–∑ `Ventcontent_<–®–ö–ê–§>.ctl`. –£–¥–∞–ª—è–µ—Ç if-–±–ª–æ–∫–∏ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –Ω–∏ —Ç–∞–º, –Ω–∏ —Ç–∞–º |
| 11 | `collect_output.py` | üì¶ –°–±–æ—Ä–∫–∞ | –°–æ–±–∏—Ä–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `output/<–®–ö–ê–§>/ventcontent/...` ‚Äî –≥–æ—Ç–æ–≤—ã–µ –ø–∞–ø–∫–∏ —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –ø—É—Ç–µ–π –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ —Ü–µ–ª–µ–≤—É—é –º–∞—à–∏–Ω—É |

### –°–≤—è–∑—å –º–µ–∂–¥—É —à–∞–≥–∞–º–∏

```
–®–∞–≥ 9: check_other_scripts.py
    ‚Üì –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç
  reports/other_scripts.json
    ‚Üì —á–∏—Ç–∞–µ—Ç
–®–∞–≥ 10: cleanup_classes.py
    ‚Üí –ù–ï —É–¥–∞–ª—è–µ—Ç if-–±–ª–æ–∫–∏ –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
```

## –ü–∞–π–ø–ª–∞–π–Ω –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è KKS (`rename_pipeline.bat`)

–í—Ç–æ—Ä–æ–π –ø–∞–π–ø–ª–∞–π–Ω ‚Äî –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö (datapoints) –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É KKS.
–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–ø–æ—Å–ª–µ** –∏–∑–æ–ª—è—Ü–∏–∏ –∏–ª–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç —Ç–æ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤–µ–∑–¥–µ: –≤ XML –º–Ω–µ–º–æ—Å—Ö–µ–º–∞—Ö, –æ–±—ä–µ–∫—Ç–∞—Ö, CSV-—Ñ–∞–π–ª–∞—Ö –∏ DPL-—Ñ–∞–π–ª–∞—Ö.

**–î–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è:** `SHD_03_1>P3_V3>DI>KZ1` (3 —É—Ä–æ–≤–Ω—è)
**–ü–æ—Å–ª–µ:** `B3>SHD_03_1>P3_V3>DI>KZ1` (4 —É—Ä–æ–≤–Ω—è, –¥–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫)

### –¢–∏–ø—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----|----------|--------|
| **PREFIX** | –î–æ–±–∞–≤–ª—è–µ—Ç –±–ª–æ–∫-–ø—Ä–µ—Ñ–∏–∫—Å | `SHD_03_1>P3_V3>DI>KZ1` ‚Üí `B3>SHD_03_1>P3_V3>DI>KZ1` |
| **PHYSICAL** | –§–∏–∑–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏ StSign/OIP ‚Üí –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ | `SHUOD_03_1_StSign_3` ‚Üí `B3>SHUOD_03_1>D109>DI>StSign_3` |
| **RESTRUCTURED** | –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ Excel (–ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤) | –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞–ø—Ä—è–º—É—é |
| **FLAT** | –¢–æ—á–∫–∏ –±–µ–∑ `>` | `SHD_7_A1_2` ‚Üí `B7>SHD_7_A1_2` |

### –®–∞–≥–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞

```
rename_pipeline.bat                    # dry-run (–æ—Ç—á—ë—Ç)
rename_pipeline.bat --apply            # –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
rename_pipeline.bat --from 3           # –Ω–∞—á–∞—Ç—å —Å —à–∞–≥–∞ 3
rename_pipeline.bat --only 2           # —Ç–æ–ª—å–∫–æ —à–∞–≥ 2
rename_pipeline.bat --apply --from 3   # –ø—Ä–∏–º–µ–Ω–∏—Ç—å, –Ω–∞—á–∏–Ω–∞—è —Å —à–∞–≥–∞ 3
```

| –®–∞–≥ | –°–∫—Ä–∏–ø—Ç | –§–∞–∑–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|--------|------|----------|
| 1 | `rename_kks.py` | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç —Ç–æ—á–∫–∏ –≤ XML: –º–Ω–µ–º–æ—Å—Ö–µ–º—ã (`LCSMnemo/*/`) + –æ–±—ä–µ–∫—Ç—ã (`objects_*/`) + output. –ò—â–µ—Ç –∞—Ç—Ä–∏–±—É—Ç—ã `Name="..."` –≤ `<reference>`, –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ Excel |
| 2 | `rename_kks.py --csv` | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç —Ç–æ—á–∫–∏ –≤ CSV-—Ñ–∞–π–ª–∞—Ö –º–Ω–µ–º–æ—Å—Ö–µ–º (–∫–æ–ª–æ–Ω–∫–∏ `refName` –∏ `dpName`). CSV –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è split_ctl –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚Äî –±–µ–∑ —ç—Ç–æ–≥–æ —à–∞–≥–∞ DPL-–ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–¥—É—Ç –ª–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ |
| 3 | `dp_scripts/rename_dpl.py` | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç —Ç–æ—á–∫–∏ –≤–æ –≤—Å–µ—Ö —Å–µ–∫—Ü–∏—è—Ö DPL: Datapoint, DpValue, Aliases, Distribution, Periph, CNS –∏ –¥—Ä. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ Excel |
| 4 | `dp_scripts/validate_dpl_points.py` | ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è | –ß–µ—Ç—ã—Ä–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è: DPL‚Üî–º–Ω–µ–º–æ, CSV struct‚ÜîDPL type, CNS‚ÜîDPL, _Static |
| 5 | `dp_scripts/clean_dpl.py` | üîß –û—á–∏—Å—Ç–∫–∞ | –£–¥–∞–ª—è–µ—Ç CNS-—Å–∏—Ä–æ—Ç—ã –∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∏–ø—ã –∏–∑ DPL –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è |

### –°–≤—è–∑—å –º–µ–∂–¥—É —à–∞–≥–∞–º–∏

```
–®–∞–≥ 1: rename_kks.py       ‚Üí XML –º–Ω–µ–º–æ—Å—Ö–µ–º—ã + –æ–±—ä–µ–∫—Ç—ã
–®–∞–≥ 2: rename_kks.py --csv ‚Üí CSV –º–Ω–µ–º–æ—Å—Ö–µ–º—ã
–®–∞–≥ 3: rename_dpl.py       ‚Üí DPL —Ñ–∞–π–ª—ã
    ‚Üì –≤—Å–µ —Ç–æ—á–∫–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã
–®–∞–≥ 4: validate_dpl_points.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏
–®–∞–≥ 5: clean_dpl.py           ‚Üí —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
```

### ‚ö† dpNameEdit –∏–Ω–¥–µ–∫—Å—ã (fix_dp_indices.py)

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –≥–ª—É–±–∏–Ω–∞ –ø—É—Ç–∏ —Ç–æ—á–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è. –°–∫—Ä–∏–ø—Ç—ã –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä—Å—è—Ç
–ø—É—Ç—å —á–µ—Ä–µ–∑ `dpName.split(">")` —Å **–∂—ë—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏**, –ª–æ–º–∞—é—Ç—Å—è:

```
// –î–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è: dpName = "SHD_03_1>P1_V1>AI>T0"
dyn_string dpNameEdit = dpName.split(">");
// dpNameEdit[1] = "SHD_03_1", [2] = "P1_V1", [3] = "AI"

// –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è: dpName = "B3>SHD_03_1>P1_V1>AI>T0"
// dpNameEdit[1] = "B3", [2] = "SHD_03_1", [3] = "P1_V1" ‚Äî –í–°–ï –°–î–í–ò–ù–£–õ–û–°–¨!
```

–¢–∏–ø–∏—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ (–¥–æ –∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):

```
// –î–æ:
string dpNameT1 = dpNameEdit[1] + ">" + dpNameEdit[2] + ">" + dpNameEdit[3] + ">" + "T1";
// –ü–æ—Å–ª–µ (–¥–æ–±–∞–≤–ª–µ–Ω dpNameEdit[4]):
string dpNameT1 = dpNameEdit[1] + ">" + dpNameEdit[2] + ">" + dpNameEdit[3] + ">" + dpNameEdit[4] + ">" + "T1";
```

**–†–µ—à–µ–Ω–∏–µ**: —Å–∫—Ä–∏–ø—Ç `fix_dp_indices.py` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–µ —Ñ–æ—Ä–º—ã —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–≤—ã—á–µ–∫ –≤ XML:
- `\">\"` (–≤–Ω—É—Ç—Ä–∏ CDATA/—Å–∫—Ä–∏–ø—Ç–æ–≤)
- `&quot;&gt;&quot;` (–≤ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö)

–ù–∞–π–¥–µ–Ω–Ω—ã–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã: T1, T4, H1, TE1, KZ1. –ú–∞—Å—à—Ç–∞–±: ~190 –º–µ—Å—Ç –≤ ~179 —Ñ–∞–π–ª–∞—Ö.

```bash
python fix_dp_indices.py                 # dry-run (—Ç–æ–ª—å–∫–æ –æ—Ç—á—ë—Ç)
python fix_dp_indices.py --apply         # –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
python fix_dp_indices.py SHD_03_1        # —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —à–∫–∞—Ñ
```

–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç `scan_dpNameEdit_concat.py` ‚Äî –ø–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
–Ω–∞ –ø–∞—Ç—Ç–µ—Ä–Ω `dpNameEdit[1]+">"+dpNameEdit[2]+">"+dpNameEdit[3]`. –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ —à–∞–±–ª–æ–Ω–∞–º,
–∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—É—Ñ—Ñ–∏–∫—Å—ã. –†–µ–∑—É–ª—å—Ç–∞—Ç: `reports/dpNameEdit_concat_scan.txt`.

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–∞–≤–∏–ª

- –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è ¬´—à–∫–∞—Ñ ‚Üí –±–ª–æ–∫¬ª (–ª–∏—Å—Ç 2)
- –Ø–≤–Ω—ã–µ –º–∞–ø–ø–∏–Ω–≥–∏-–∏—Å–∫–ª—é—á–µ–Ω–∏—è (–ª–∏—Å—Ç 1, –∫–æ–ª–æ–Ω–∫–∏ B‚ÜíC)
- –°–ª–æ–≤–∞—Ä—å `PHYSICAL_GROUPS` –≤ `rename_kks.py` –¥–ª—è StSign/OIP —Ç–æ—á–µ–∫
- `cabinets.txt` ‚Äî —Ñ–∏–ª—å—Ç—Ä —à–∫–∞—Ñ–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–º–∏ –∂–µ —Å–∫—Ä–∏–ø—Ç–∞–º–∏)

## –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

–°–∫—Ä–∏–ø—Ç—ã, –Ω–µ –≤—Ö–æ–¥—è—â–∏–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω. –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.

### `extract_datapoints.py` ‚Äî –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö

–°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ datapoint-—ã –∏–∑ XML-–º–Ω–µ–º–æ—Å—Ö–µ–º (–∞—Ç—Ä–∏–±—É—Ç `Name="..."` –≤ —Ç–µ–≥–∞—Ö `<reference>`). –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –º–Ω–µ–º–æ—Å—Ö–µ–º–∞–º, –≤—ã–≤–æ–¥–∏—Ç –ø–æ —à–∫–∞—Ñ–∞–º + —Å–≤–æ–¥–Ω—ã–π —Ñ–∞–π–ª.

```bash
python extract_datapoints.py             # –≤—Å–µ —à–∫–∞—Ñ—ã
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `reports/datapoints/_all.txt` + `<–®–ö–ê–§>.txt` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∫–∞—Ñ–∞.

### `classify_datapoints.py` ‚Äî –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ—á–µ–∫ –ø–æ DPT

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç DPT-–∫–ª–∞—Å—Å (—Ç–∏–ø —Ç–æ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ datapoint-–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ CSV-—Ñ–∞–π–ª–æ–≤ –º–Ω–µ–º–æ—Å—Ö–µ–º. CSV —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–ª–æ–Ω–∫—É `struct` ‚Äî DPT-–∫–ª–∞—Å—Å —Ç–æ—á–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä `TAIRA_AI`, `KORF_ZD`, `TAIRA_INT_DI`).

–ú–∞—Ç—á–∏–Ω–≥ –∏–¥—ë—Ç –ø–æ –¥–≤—É–º –∫–ª—é—á–∞–º –∏–∑ CSV: `refName` (–∏–º—è –Ω–∞ –æ–±—ä–µ–∫—Ç–µ –º–Ω–µ–º–æ—Å—Ö–µ–º—ã) –∏ `dpName` (–∏–º—è –≤ –ø—Ä–æ–µ–∫—Ç–µ WinCC OA). –î–ª—è 98 % —Ç–æ—á–µ–∫ –æ–Ω–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –Ω–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö refName —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—É—Ñ—Ñ–∏–∫—Å, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ dpName.

```bash
python classify_datapoints.py            # –≤—Å–µ —à–∫–∞—Ñ—ã
python classify_datapoints.py SHD_12     # –æ–¥–∏–Ω —à–∫–∞—Ñ
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `reports/datapoints/_classes.txt` (–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫), `_classes_unique.txt` (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã), `_unmatched.txt` (–±–µ–∑ –∫–ª–∞—Å—Å–∞).

### `rename_kks.py` ‚Äî –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É KKS

–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç datapoint-—ã –≤ XML-–º–Ω–µ–º–æ—Å—Ö–µ–º–∞—Ö –∏ –æ–±—ä–µ–∫—Ç–∞—Ö –ø–æ –Ω–æ–≤–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è KKS. –ü—Ä–∞–≤–∏–ª–∞ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ Excel-—Ñ–∞–π–ª–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è ¬´—à–∫–∞—Ñ ‚Üí –±–ª–æ–∫¬ª –∏ —Å–ø–∏—Å–∫–æ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

–¢—Ä–∏ —Ç–∏–ø–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π:
- **PREFIX** (–æ—Å–Ω–æ–≤–Ω–æ–π) ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –±–ª–æ–∫-–ø—Ä–µ—Ñ–∏–∫—Å: `SHD_03_1>P3_V3>DI>KZ1` ‚Üí `B3>SHD_03_1>P3_V3>DI>KZ1`
- **PHYSICAL** (—Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏) ‚Äî StSign/OIP —Ç–æ—á–∫–∏ —Ä–∞—Å–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –ø–æ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º: `SHUOD_03_1_StSign_3` ‚Üí `B3>SHUOD_03_1>D109>DI>StSign_3`
- **RESTRUCTURED** (–∏—Å–∫–ª—é—á–µ–Ω–∏—è) ‚Äî –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –ø–æ–º–∏–º–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞, –±–µ—Ä—ë—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
- **FLAT** ‚Äî —Ç–æ—á–∫–∏ –±–µ–∑ `>`: `SHD_7_A1_2` ‚Üí `B7>SHD_7_A1_2`

–ü–æ–¥—Å–∏—Å—Ç–µ–º—ã —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç–æ—á–µ–∫ (SHUOD_03_1, SHKZIAV_03_1):
- `D109`, `D119`, `D120`, `D121`, `D121A` ‚Äî –¥–≤–µ—Ä–∏/–ø–æ–º–µ—â–µ–Ω–∏—è (–®–£–û–î)
- `GAS`, `ALRT_ST`, `ALRT_R106`, `EVENT` ‚Äî –≥–∞–∑, –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ, –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—è (–®–ö–ó–∏–ê–í)
- `FIRE`, `DIAG`, `RSRV_*` ‚Äî –ø–æ–∂–∞—Ä, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, —Ä–µ–∑–µ—Ä–≤—ã

```bash
python rename_kks.py                     # dry-run –ø–æ –≤—Å–µ–º —à–∫–∞—Ñ–∞–º
python rename_kks.py --apply             # –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∑–∞–º–µ–Ω—ã
python rename_kks.py --dry-run SHD_12    # —Ç–æ–ª—å–∫–æ —à–∫–∞—Ñ SHD_12
```

**–í–Ω–∏–º–∞–Ω–∏–µ**: `--dry-run` –≤–∫–ª—é—á—ë–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –Ω—É–∂–µ–Ω `--apply`.

## –°–∫—Ä–∏–ø—Ç—ã DPL (`dp_scripts/`)

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å DPL-—Ñ–∞–π–ª–∞–º–∏ (Datapoint List) WinCC OA. –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∏–∑ –ø–∞–ø–∫–∏ `scripts/dp_scripts/`.

–î–∞–Ω–Ω—ã–µ: DPL-—Ñ–∞–π–ª—ã –≤ `DPLs/<–®–ö–ê–§>/`, CSV-–æ–ø–∏—Å–∞–Ω–∏—è –º–Ω–µ–º–æ—Å—Ö–µ–º –≤ `LCSMnemo/<–®–ö–ê–§>/`.

### `validate_structs.py` ‚Äî CSV struct ‚Üî DPL DpType

–°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∏ `struct` –∏–∑ CSV —Å —Ç–∏–ø–∞–º–∏ –≤ —Å–µ–∫—Ü–∏–∏ `# DpType` DPL-—Ñ–∞–π–ª–æ–≤. –í—ã—è–≤–ª—è–µ—Ç –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è, –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∫–∞–∫ ERROR/WARN/INFO.

```bash
cd dp_scripts
python validate_structs.py SHD_03_1
```

### `validate_dpl_points.py` ‚Äî 4 –ø—Ä–æ–≤–µ—Ä–∫–∏ DPL

1. **DPL ‚Üî –º–Ω–µ–º–æ** ‚Äî –∫–∞–∫–∏–µ —Ç–æ—á–∫–∏ –µ—Å—Ç—å –≤ DPL, –Ω–æ –Ω–µ—Ç –Ω–∞ –º–Ω–µ–º–æ—Å—Ö–µ–º–∞—Ö (–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)
2. **CSV struct ‚Üî DPL instance type** ‚Äî —Ç–∏–ø –≤ CSV —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–∏–ø–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –≤ DPL
3. **CNS ‚Üî DPL** ‚Äî —Å—Å—ã–ª–∫–∏ –≤ CNS —Å–µ–∫—Ü–∏–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ DP
4. **_Static** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ _Static-—Ç–æ—á–∫–∏ –∏–∑ CSV –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ DPL

```bash
cd dp_scripts
python validate_dpl_points.py SHD_03_1
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: 4 –æ—Ç—á—ë—Ç–∞ –≤ `reports/` ‚Äî `*_dpl_vs_mnemo.txt`, `*_dpl_vs_csv_types.txt`, `*_cns_orphans.txt`, `*_static_analysis.txt`.

### `rename_dpl.py` ‚Äî –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –≤ DPL

–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç DP-–∏–º–µ–Ω–∞ –≤–æ –≤—Å–µ—Ö —Å–µ–∫—Ü–∏—è—Ö DPL (Datapoint, Aliases, DpValue, AlertValue,
Distribution, Periph, CNS, DbArchiveInfo –∏ –¥—Ä.) –ø–æ —Ç–µ–º –∂–µ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ Excel, —á—Ç–æ –∏ `rename_kks.py`.
–ê–≤—Ç–æ–±—ç–∫–∞–ø –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤ –≤ `DPLs/<—à–∫–∞—Ñ>/backup/`.

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `load_excel` –∏ `transform_dp` –∏–∑ `rename_kks.py` ‚Äî –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–∏–ª.

```bash
cd dp_scripts
python rename_dpl.py                     # dry-run –≤—Å–µ —à–∫–∞—Ñ—ã
python rename_dpl.py --apply             # –ø—Ä–∏–º–µ–Ω–∏—Ç—å
python rename_dpl.py SHD_03_1            # –æ–¥–∏–Ω —à–∫–∞—Ñ
```

### `clean_dpl.py` ‚Äî –û—á–∏—Å—Ç–∫–∞ DPL-—Ñ–∞–π–ª–æ–≤

–£–¥–∞–ª—è–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã DP –∏–∑ –≤—Å–µ—Ö —Å–µ–∫—Ü–∏–π DPL (Datapoint, Aliases, DpValue, Distribution, Periph, CNS –∏ –¥—Ä.).
–ê–≤—Ç–æ–±—ç–∫–∞–ø –≤ `DPLs/<—à–∫–∞—Ñ>/backup/`.

```bash
cd dp_scripts
python clean_dpl.py SHD_03_1 --remove "SHD_03_1>ITP2>AI>P3" --dry-run
python clean_dpl.py SHD_03_1 --clean-cns-orphans --dry-run
python clean_dpl.py SHD_03_1 --remove-unused-types --dry-run
```

**`--dry-run`** ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ë–µ–∑ –Ω–µ–≥–æ ‚Äî —Ä–µ–∞–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å –±—ç–∫–∞–ø–æ–º.

## –û–±—â–∏–µ –º–æ–¥—É–ª–∏

### `parse_utils.py`

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—É—Ç–µ–π –∏ —É—Ç–∏–ª–∏—Ç—ã:

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ü—É—Ç—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------|------------|
| `VENT_DIR` | `../ventcontent/` | –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ WinCC OA |
| `PANELS_DIR` | `ventcontent/panels/` | –ü–∞–Ω–µ–ª–∏ –∏ –æ–±—ä–µ–∫—Ç—ã |
| `OBJECTS_DIR` | `panels/objects/` | XML-–æ–±—ä–µ–∫—Ç—ã |
| `VISION_DIR` | `panels/vision/` | –ú–Ω–µ–º–æ—Å—Ö–µ–º—ã |
| `LCSMEMO_DIR` | `vision/LCSMnemo/` | –ü–∞–ø–∫–∏ —à–∫–∞—Ñ–æ–≤ —Å CSV –∏ XML |
| `CTL_DIR` | `ventcontent/scripts/libs/objLogic/` | –°–∫—Ä–∏–ø—Ç—ã WinCC OA (.ctl) |
| `REPORT_DIR` | `../reports/` | –ü–∞–ø–∫–∞ –æ—Ç—á—ë—Ç–æ–≤ |
| `OLD_MNEMO_DIR` | `../old_mnemo/` | –ë—ç–∫–∞–ø—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –º–Ω–µ–º–æ—Å—Ö–µ–º |
| `CABINETS_FILE` | `scripts/cabinets.txt` | –§–∏–ª—å—Ç—Ä —à–∫–∞—Ñ–æ–≤ |

–£—Ç–∏–ª–∏—Ç—ã:
- **`read_text_safe(path)`** ‚Äî —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å fallback UTF-8 ‚Üí CP1251
- **`find_matching_brace(text, pos)`** ‚Äî –ø–æ–∏—Å–∫ –∑–∞–∫—Ä—ã–≤–∞—é—â–µ–π `}` —Å —É—á—ë—Ç–æ–º —Å—Ç—Ä–æ–∫ (`"..."`, `&quot;...&quot;`, `\"...\"`) –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (`//`, `/* */`)
- **`load_active_cabinets()`** ‚Äî —á—Ç–µ–Ω–∏–µ `cabinets.txt` ‚Üí `set` –∏–º—ë–Ω (–∏–ª–∏ `None` = –≤—Å–µ)
- **`strip_comments(text)`** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–∞: –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö `//` (—Å —É—á—ë—Ç–æ–º —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤) –∏ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö `/* ... */`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `cleanup_orphans.py`, `validate_refs.py`
- **`find_cabinet_dirs(objects_dir)`** ‚Äî –ø–æ–∏—Å–∫ –ø–∞–ø–æ–∫ `objects_<–®–ö–ê–§>/` —Å —É—á—ë—Ç–æ–º `cabinets.txt`
- **`find_mnemo_dirs()`** ‚Äî –ø–æ–∏—Å–∫ –ø–∞–ø–æ–∫ –º–Ω–µ–º–æ—Å—Ö–µ–º –≤ `LCSMnemo/` —Å —É—á—ë—Ç–æ–º `cabinets.txt`

### `report_utils.py`

- **`write_report(path, lines)`** ‚Äî –∑–∞–ø–∏—Å—å –æ—Ç—á—ë—Ç–∞. –ë–µ–∑ `--append` –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç, —Å `--append` –¥–æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å —Ç–∞–π–º—Å—Ç–∞–º–ø–æ–º

## –£—Ç–∏–ª–∏—Ç—ã

| –°–∫—Ä–∏–ø—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `full_audit.py` | –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç XML: –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã –∫–∞–≤—ã—á–µ–∫ –≤–æ–∫—Ä—É–≥ struct, –ø–∞—Ç—Ç–µ—Ä–Ω—ã `#uses`, —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–ª–∞—Å—Å–æ–≤ |
| `check_line_endings.py` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å—Ç—Ä–æ–∫ (CRLF/LF/Mixed) –≤–æ –≤—Å–µ—Ö XML |
| `fix_line_endings.py` | –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è CRLF ‚Üí LF –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö `Ventcontent_*.ctl` |
| `fix_xml_line_endings.py` | –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è CRLF ‚Üí LF –≤–æ –≤—Å–µ—Ö XML (objects + vision) |

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –¢—Ä–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–∞–≤—ã—á–µ–∫ –≤ XML

–í XML-–æ–±—ä–µ–∫—Ç–∞—Ö WinCC OA —Å—Ç—Ä–æ–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:

| –§–æ—Ä–º–∞—Ç | –ì–¥–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|--------|-----------------|------------|
| `&quot;struct&quot;` | CDATA —Å–µ–∫—Ü–∏–∏ | ~431 |
| `\"struct\"` | –ê—Ç—Ä–∏–±—É—Ç—ã value= | ~40 |
| `"struct"` | –û–±—ã—á–Ω—ã–µ (—Ä–µ–¥–∫–æ) | –µ–¥–∏–Ω–∏—Ü—ã |

–í—Å–µ —Ç—Ä–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ `cleanup_classes.py` –∏ `find_matching_brace()`.

### –°–∫–æ–±–∫–∏ –≤ —Å—Ç—Ä–æ–∫–∞—Ö

–ö–æ–¥ –≤–∏–¥–∞ `setValueLib("state", "foreCol", "{54,205,45}")` —Å–æ–¥–µ—Ä–∂–∏—Ç `{` –∏ `}` –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤. –ù–∞–∏–≤–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç —Å–∫–æ–±–æ–∫ –ª–æ–º–∞–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥. –†–µ—à–µ–Ω–∏–µ ‚Äî `find_block_end()` –∏ `find_matching_brace()` –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–æ–∫ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

### setValueLib –º–µ–∂–¥—É –∫–ª–∞—Å—Å–∞–º–∏

–§—É–Ω–∫—Ü–∏—è `setValueLib` (~—Å—Ç—Ä–æ–∫–∞ 5453 –æ—Ä–∏–≥–∏–Ω–∞–ª–∞) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è **–º–µ–∂–¥—É** –∫–ª–∞—Å—Å–∞–º–∏, –Ω–µ –≤–Ω—É—Ç—Ä–∏ –Ω–∏—Ö. –ü–∞—Ä—Å–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ—ë –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –≤–∫–ª—é—á–∞–µ—Ç –≤ –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –Ω—É–∂–Ω—ã–π –∫–ª–∞—Å—Å –µ—ë –≤—ã–∑—ã–≤–∞–µ—Ç.

### CSV-–º–∞–ø–ø–∏–Ω–≥ —Ç–æ—á–µ–∫

CSV-—Ñ–∞–π–ª—ã –º–Ω–µ–º–æ—Å—Ö–µ–º –∏–º–µ—é—Ç –¥–≤–∞ —Å—Ç–æ–ª–±—Ü–∞ —Å –∏–º–µ–Ω–∞–º–∏ —Ç–æ—á–µ–∫: `refName` (col 0) ‚Äî –∏–º—è –Ω–∞ –æ–±—ä–µ–∫—Ç–µ –º–Ω–µ–º–æ—Å—Ö–µ–º—ã –∏ `dpName` (col 1) ‚Äî –∏–º—è —Ç–æ—á–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ. –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ç–æ—á–µ–∫ –æ–Ω–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –Ω–æ –≤ —Ä—è–¥–µ —Å–ª—É—á–∞–µ–≤ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è (—Å—É—Ñ—Ñ–∏–∫—Å—ã `_1`, `_2`, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `|`). –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –ø–æ –æ–±–æ–∏–º –∫–ª—é—á–∞–º.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10+
- –ü—Ä–æ–µ–∫—Ç WinCC OA –≤ `../ventcontent/` —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º `PNR_Ventcontent.ctl`

## –¶–µ–ª–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞

–†–∞–±–æ—á–∞—è —Å—Ä–µ–¥–∞ ‚Äî **Linux**, UTF-8, Unix LF (WinCC OA).
–°–∫—Ä–∏–ø—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ –Ω–∞ **Windows** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
